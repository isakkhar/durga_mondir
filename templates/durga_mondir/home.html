{% extends 'durga_mondir/base.html' %}
{% load static %}

{% block extra_css %}
<style>
    /* Home page specific background */
    body.home-page {
        background-image: url('{% static "images/bg.jpg" %}');
        background-repeat: repeat;
        background-size: 200px 200px;
        background-attachment: fixed;
        overflow-x: hidden;
    }
    
    /* Custom Scrollbar */
    ::-webkit-scrollbar {
        width: 14px;
    }
    
    ::-webkit-scrollbar-track {
        background: rgba(0,0,0,0.1);
        border-radius: 12px;
        margin: 5px;
    }
    
    ::-webkit-scrollbar-thumb {
        background: linear-gradient(135deg, #ff9a56 0%, #ff6b35 50%, #f7931e 100%);
        border-radius: 12px;
        border: 3px solid transparent;
        background-clip: content-box;
        transition: all 0.3s ease;
    }
    
    ::-webkit-scrollbar-thumb:hover {
        background: linear-gradient(135deg, #ff8142 0%, #ff5722 50%, #e68900 100%);
        transform: scale(1.1);
    }
    
    ::-webkit-scrollbar-thumb:active {
        background: linear-gradient(135deg, #e67e22 0%, #d35400 50%, #cc7a00 100%);
    }
    
    /* Firefox scrollbar */
    html {
        scrollbar-width: thin;
        scrollbar-color: #ff9a56 rgba(0,0,0,0.1);
        scroll-behavior: smooth;
    }
    
    /* Scrollbar corner */
    ::-webkit-scrollbar-corner {
        background: transparent;
    }
    
    /* Smooth scrolling */
    * {
        scroll-behavior: smooth;
    }
    
    /* Hero Section Carousel */
    .hero-slide {
        background-size: cover;
        background-position: center;
        background-attachment: fixed;
        min-height: 100vh;
        position: relative;
        display: flex;
        align-items: center;
    }
    
    .carousel-fade .carousel-item {
        opacity: 0;
        transition-property: opacity;
        background: none;
    }
    
    .carousel-fade .carousel-item.active {
        opacity: 1;
    }
    
    .hero-content {
        position: relative;
        z-index: 2;
    }
    
    .hero-title {
        font-size: 4rem;
        font-weight: 800;
        color: white;
        text-shadow: 3px 3px 12px rgba(0,0,0,0.8), 1px 1px 8px rgba(0,0,0,0.9);
        margin-bottom: 2rem;
        animation: fadeInUp 1s ease-out;
    }
    
    .hero-subtitle {
        font-size: 1.5rem;
        color: rgba(255,255,255,0.95);
        margin-bottom: 2rem;
        text-shadow: 2px 2px 8px rgba(0,0,0,0.7);
        animation: fadeInUp 1s ease-out 0.2s both;
    }
    
    .hero-description {
        font-size: 1.1rem;
        color: rgba(255,255,255,0.9);
        margin-bottom: 3rem;
        line-height: 1.6;
        text-shadow: 1px 1px 6px rgba(0,0,0,0.6);
        animation: fadeInUp 1s ease-out 0.3s both;
    }
    /* Hero Carousel specific styles */
    #heroCarousel .carousel-indicators {
        bottom: 20px;
        z-index: 3;
    }
    
    #heroCarousel .carousel-indicators [data-bs-target] {
        width: 15px;
        height: 15px;
        border-radius: 50%;
        background-color: rgba(255,255,255,0.4);
        border: 2px solid rgba(255,255,255,0.8);
        margin: 0 8px;
        opacity: 0.7;
    }
    
    #heroCarousel .carousel-indicators .active {
        background-color: rgba(255,255,255,0.9);
        transform: scale(1.3);
        opacity: 1;
        box-shadow: 0 0 15px rgba(255,255,255,0.6);
    }
    
    #heroCarousel .carousel-control-prev,
    #heroCarousel .carousel-control-next {
        width: 50px;
        height: 50px;
        top: 50%;
        transform: translateY(-50%);
        background: rgba(255,255,255,0.2);
        border-radius: 50%;
        backdrop-filter: blur(10px);
        opacity: 0.8;
        z-index: 3;
    }
    
    #heroCarousel .carousel-control-prev:hover,
    #heroCarousel .carousel-control-next:hover {
        opacity: 1;
        background: rgba(255,255,255,0.3);
        transform: translateY(-50%) scale(1.1);
    }
    
    #heroCarousel .carousel-control-prev {
        left: 20px;
    }
    
    #heroCarousel .carousel-control-next {
        right: 20px;
    }
    
    /* Countdown Section */
    .countdown-section {
        background: linear-gradient(135deg, rgba(255, 107, 107, 0.9), rgba(238, 90, 36, 0.9)),
                    url('{% static "images/durga_puja_1.png" %}');
        background-size: cover;
        background-position: center;
        background-attachment: fixed;
        padding: 5rem 0;
        color: white;
        position: relative;
    }
    
    .countdown-section::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 0, 0, 0.3);
        z-index: 1;
    }
    
    .countdown-content {
        position: relative;
        z-index: 2;
        text-align: center;
    }
    
    .countdown-title {
        font-size: 3rem;
        font-weight: 700;
        margin-bottom: 2rem;
        text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
    }
    
    .countdown-timer {
        background: rgba(255, 255, 255, 0.1);
        backdrop-filter: blur(10px);
        border-radius: 20px;
        padding: 3rem 2rem;
        margin: 2rem auto;
        max-width: 600px;
        border: 2px solid rgba(255, 255, 255, 0.2);
    }
    
    .countdown-number {
        font-size: 4rem;
        font-weight: 800;
        background: linear-gradient(45deg, #fff, #f39c12);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        display: block;
        text-shadow: none;
        animation: pulse 2s infinite;
    }
    
    .countdown-text {
        font-size: 1.5rem;
        margin-bottom: 1rem;
    }
    /* Features Section */
    .features-section {
        background: linear-gradient(135deg, rgba(4, 69, 112, 0.05), rgba(4, 69, 112, 0.1));
        padding: 5rem 0;
    }
    
    .feature-card {
        background: white;
        padding: 3rem 2rem;
        border-radius: 20px;
        text-align: center;
        box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        transition: all 0.3s ease;
        margin-bottom: 2rem;
        border-top: 5px solid #044570;
    }
    
    .feature-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 20px 40px rgba(0,0,0,0.15);
    }
    
    .feature-icon {
        width: 80px;
        height: 80px;
        background: linear-gradient(135deg, #044570, #0056b3);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 0 auto 2rem;
        color: white;
        font-size: 2rem;
    }
    
    /* About Section with Durga Images */
    .about-section {
        padding: 5rem 0;
    }
    
    .about-card {
        background: rgba(255, 255, 255, 0.9);
        backdrop-filter: blur(10px);
        border-radius: 20px;
        padding: 3rem;
        box-shadow: 0 10px 30px rgba(0,0,0,0.1);
    }
    
    /* Statistics Section */
    .stats-section {
        background: linear-gradient(135deg, #044570, #0056b3);
        color: white;
        padding: 4rem 0;
    }
    
    .stat-item {
        text-align: center;
        padding: 2rem 1rem;
    }
    
    .stat-number {
        font-size: 3rem;
        font-weight: 800;
        display: block;
        margin-bottom: 1rem;
        background: linear-gradient(45deg, #fff, #f39c12);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
    }
    
    .stat-label {
        font-size: 1.2rem;
        font-weight: 600;
    }
    
    /* Puja Days Section */
    .puja-days-section {
        background: linear-gradient(135deg, rgba(220, 53, 69, 0.1), rgba(238, 90, 36, 0.1));
        padding: 5rem 0;
        position: relative;
    }
    
    .puja-days-title {
        text-align: center;
        margin-bottom: 4rem;
        color: #044570;
        font-size: 3rem;
        font-weight: 800;
        text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
    }
    
    .puja-day-card {
        background: white;
        border-radius: 20px;
        overflow: hidden;
        box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        margin-bottom: 2rem;
        border: 3px solid transparent;
        position: relative;
    }
    .puja-day-image {
        width: 100%;
        height: 180px;
        position: relative;
        overflow: hidden;
        background: #f8f9fa;
        display: flex;
        align-items: center;
        justify-content: center;
    }
    
    .puja-day-image img {
        width: 100%;
        height: 100%;
        object-fit: contain;
        object-position: center;
        background: #fff;
    }
    
    .puja-day-content {
        padding: 0.5rem 1rem 1rem 1rem;
        text-align: center;
    }
    
    .puja-day-title {
        font-size: 1.1rem;
        font-weight: 700;
        color: #044570;
        margin-bottom: 0.3rem;
    }
    
    .puja-day-date {
        background: linear-gradient(135deg, #044570, #044570);
        color: white;
        padding: 0.4rem 1rem;
        border-radius: 20px;
        font-weight: 600;
        font-size: 0.8rem;
        display: inline-block;
        margin-bottom: 0.5rem;
        box-shadow: 0 4px 15px rgba(220, 53, 69, 0.3);
        text-align: center;
        line-height: 1.2;
        white-space: nowrap;
    }
    
    .puja-day-description {
        color: #666;
        font-size: 0.85rem;
        line-height: 1.4;
        margin-bottom: 0;
    }
    

    
    /* Animations */
    @keyframes fadeInUp {
        from {
            opacity: 0;
            transform: translateY(30px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }
    
    @keyframes pulse {
        0%, 100% {
            transform: scale(1);
        }
        50% {
            transform: scale(1.05);
        }
    }
    
    .animate-on-scroll {
        opacity: 0;
        transform: translateY(30px);
        transition: all 0.6s ease;
    }
    
    .animate-on-scroll.animated {
        opacity: 1;
        transform: translateY(0);
    }
    
    /* Responsive */
    @media (max-width: 768px) {
        .hero-title {
            font-size: 2.5rem;
        }
        
        .countdown-title {
            font-size: 2rem;
        }
        
        .countdown-number {
            font-size: 2.5rem;
        }
        
        .countdown-timer {
            padding: 2rem 1rem;
        }
        
        #heroCarousel .carousel-control-prev {
            left: 10px;
        }
        
        #heroCarousel .carousel-control-next {
            right: 10px;
        }
        
        #heroCarousel .carousel-indicators {
            bottom: 10px;
        }
    }
    
    /* Section Titles */
    .section-title {
        font-size: 2.5rem;
        font-weight: 700;
        color: #044570;
        text-align: center;
        margin-bottom: 3rem;
        position: relative;
    }
    
    .section-title::after {
        content: '';
        width: 80px;
        height: 4px;
        background: linear-gradient(135deg, #044570, #0056b3);
        display: block;
        margin: 1rem auto;
        border-radius: 2px;
    }
    
    /* Gallery View All Button */
    .gallery-view-btn {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white !important;
        border: none;
        padding: 15px 40px;
        border-radius: 50px;
        font-weight: 600;
        font-size: 1.1rem;
        box-shadow: 0 8px 20px rgba(102, 126, 234, 0.3);
        transition: all 0.3s ease;
        text-decoration: none;
        display: inline-block;
        cursor: pointer;
        position: relative;
        z-index: 10;
        pointer-events: all;
    }
    
    .gallery-view-btn:hover {
        transform: translateY(-3px);
        box-shadow: 0 12px 30px rgba(102, 126, 234, 0.5);
        color: white !important;
        text-decoration: none;
    }
    
    .gallery-view-btn:active {
        transform: translateY(-1px);
    }
    
    /* Floating Countdown Widget */
    .floating-countdown {
        position: fixed;
        left: 20px;
        top: 50%;
        transform: translateY(-50%);
        width: 90px;
        height: 90px;
        background: linear-gradient(135deg, #044570 0%, #044570 50%, #044570 100%);
        border-radius: 50%;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        box-shadow: 0 10px 40px rgba(238, 90, 111, 0.5);
        z-index: 9999;
        animation: floatingPulse 3s ease-in-out infinite, rotateGlow 8s linear infinite;
        border: 4px solid rgba(255, 255, 255, 0.3);
        cursor: pointer;
        transition: all 0.3s ease;
    }
    
    .floating-countdown:hover {
        transform: translateY(-50%) scale(1.1);
        box-shadow: 0 15px 60px rgba(238, 90, 111, 0.7);
    }
    
    .floating-countdown-text {
        color: white;
        text-align: center;
        font-weight: 700;
        text-shadow: 2px 2px 8px rgba(0,0,0,0.5);
        line-height: 1.3;
        padding: 10px;
    }
    
    .floating-countdown-label {
        font-size: 0.75rem;
        margin-bottom: 5px;
        opacity: 0.95;
    }
    
    .floating-countdown-days {
        font-size: 1.5rem;
        font-weight: 900;
        display: block;
        margin: 5px 0;
        background: linear-gradient(45deg, #fff, #fff);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        text-shadow: none;
    }
    
    .floating-countdown-suffix {
        font-size: 0.7rem;
        opacity: 0.9;
    }
    
    /* Rotating glow effect */
    @keyframes rotateGlow {
        0% {
            box-shadow: 0 10px 40px rgba(238, 90, 111, 0.5),
                        0 0 20px rgba(255, 107, 107, 0.3);
        }
        25% {
            box-shadow: 10px 10px 40px rgba(238, 90, 111, 0.6),
                        10px 0 30px rgba(255, 107, 107, 0.4);
        }
        50% {
            box-shadow: 0 -10px 40px rgba(238, 90, 111, 0.5),
                        0 -10px 20px rgba(255, 107, 107, 0.3);
        }
        75% {
            box-shadow: -10px 10px 40px rgba(238, 90, 111, 0.6),
                        -10px 0 30px rgba(255, 107, 107, 0.4);
        }
        100% {
            box-shadow: 0 10px 40px rgba(238, 90, 111, 0.5),
                        0 0 20px rgba(255, 107, 107, 0.3);
        }
    }
    
    @keyframes floatingPulse {
        0%, 100% {
            transform: translateY(-50%) scale(1);
        }
        50% {
            transform: translateY(-50%) scale(1.05);
        }
    }
    
    /* Responsive floating widget */
    @media (max-width: 768px) {
        .floating-countdown {
            width: 90px;
            height: 90px;
            left: 10px;
        }
        
        .floating-countdown-label {
            font-size: 0.6rem;
        }
        
        .floating-countdown-days {
            font-size: 1.8rem;
        }
        
        .floating-countdown-suffix {
            font-size: 0.6rem;
        }
    }
    
    @media (max-width: 576px) {
        .floating-countdown {
            width: 80px;
            height: 80px;
            left: 5px;
        }
        
        .floating-countdown-label {
            font-size: 0.55rem;
        }
        
        .floating-countdown-days {
            font-size: 1.5rem;
        }
        
        .floating-countdown-suffix {
            font-size: 0.55rem;
        }
    }
    
    /* Donation Banner Section */
    .donation-banner {
        background: linear-gradient(135deg, #044570 0%, #044570 100%);
        padding: 5rem 0;
        position: relative;
        overflow: hidden;
    }
    
    .donation-banner::before {
        content: '';
        position: absolute;
        top: -50%;
        left: -50%;
        width: 200%;
        height: 200%;
        background: repeating-linear-gradient(
            45deg,
            transparent,
            transparent 10px,
            rgba(255, 255, 255, 0.03) 10px,
            rgba(255, 255, 255, 0.03) 20px
        );
        animation: bannerPattern 20s linear infinite;
    }
    
    @keyframes bannerPattern {
        0% {
            transform: translate(0, 0);
        }
        100% {
            transform: translate(50px, 50px);
        }
    }
    
    .donation-content {
        position: relative;
        z-index: 2;
        text-align: center;
        color: white;
    }
    
    .donation-icon {
        width: 100px;
        height: 100px;
        background: rgba(255, 255, 255, 0.2);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 0 auto 2rem;
        backdrop-filter: blur(10px);
        border: 3px solid rgba(255, 255, 255, 0.3);
        animation: donationPulse 2s ease-in-out infinite;
    }
    
    @keyframes donationPulse {
        0%, 100% {
            transform: scale(1);
            box-shadow: 0 0 0 0 rgba(255, 255, 255, 0.7);
        }
        50% {
            transform: scale(1.05);
            box-shadow: 0 0 0 20px rgba(255, 255, 255, 0);
        }
    }
    
    .donation-icon i {
        font-size: 3rem;
        color: white;
    }
    
    .donation-title {
        font-size: 3rem;
        font-weight: 800;
        margin-bottom: 1.5rem;
        text-shadow: 3px 3px 10px rgba(0,0,0,0.3);
        animation: fadeInUp 1s ease-out;
    }
    
    .donation-subtitle {
        font-size: 1.3rem;
        margin-bottom: 2rem;
        opacity: 0.95;
        text-shadow: 2px 2px 6px rgba(0,0,0,0.2);
        line-height: 1.6;
    }
    
    .donation-text {
        font-size: 1.1rem;
        margin-bottom: 3rem;
        max-width: 700px;
        margin-left: auto;
        margin-right: auto;
        opacity: 0.9;
        text-shadow: 1px 1px 4px rgba(0,0,0,0.2);
    }
    
    .donation-btn {
        background: white;
        color: #044570;
        padding: 18px 50px;
        font-size: 1.2rem;
        font-weight: 700;
        border: none;
        border-radius: 50px;
        text-decoration: none;
        display: inline-block;
        transition: all 0.3s ease;
        box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        position: relative;
        overflow: hidden;
    }
    
    .donation-btn::before {
        content: '';
        position: absolute;
        top: 50%;
        left: 50%;
        width: 0;
        height: 0;
        background: rgba(245, 87, 108, 0.1);
        border-radius: 50%;
        transform: translate(-50%, -50%);
        transition: width 0.5s, height 0.5s;
    }
    
    .donation-btn:hover::before {
        width: 300px;
        height: 300px;
    }
    
    .donation-btn:hover {
        transform: translateY(-5px);
        box-shadow: 0 15px 40px rgba(0,0,0,0.3);
        color: #044570;
    }
    
    .donation-btn i {
        margin-right: 10px;
        transition: transform 0.3s ease;
    }
    
    .donation-btn:hover i {
        transform: scale(1.2);
    }
    
    .donation-features {
        display: flex;
        justify-content: center;
        gap: 3rem;
        margin-top: 3rem;
        flex-wrap: wrap;
    }
    
    .donation-feature {
        text-align: center;
        color: white;
    }
    
    .donation-feature-icon {
        width: 60px;
        height: 60px;
        background: rgba(255, 255, 255, 0.15);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 0 auto 1rem;
        backdrop-filter: blur(5px);
    }
    
    .donation-feature-icon i {
        font-size: 1.8rem;
        color: white;
    }
    
    .donation-feature-text {
        font-size: 1rem;
        font-weight: 600;
        text-shadow: 1px 1px 3px rgba(0,0,0,0.2);
    }
    
    /* Donation Payment Methods */
    .donation-methods {
        max-width: 900px;
        margin: 0 auto;
    }
    
    .payment-card {
        background: white;
        border-radius: 15px;
        padding: 1.5rem;
        box-shadow: 0 5px 20px rgba(0,0,0,0.15);
        transition: all 0.3s ease;
        height: 100%;
    }
    
    .payment-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 30px rgba(0,0,0,0.25);
    }
    
    .payment-header {
        display: flex;
        align-items: center;
        gap: 10px;
        margin-bottom: 1rem;
        padding-bottom: 0.75rem;
        border-bottom: 2px solid #f5576c;
    }
    
    .payment-header i {
        font-size: 1.5rem;
        color: #f5576c;
    }
    
    .payment-header h5 {
        margin: 0;
        color: #333;
        font-weight: 700;
        font-size: 1.2rem;
    }
    
    .payment-details {
        color: #555;
    }
    
    .payment-details p {
        margin: 0.5rem 0;
        font-size: 1rem;
        line-height: 1.8;
    }
    
    .payment-details strong {
        color: #333;
        font-weight: 600;
    }
    
    .highlight-number {
        font-family: 'Courier New', monospace;
        font-size: 1.1rem;
        font-weight: 700;
        color: #044570;
        background: rgba(4, 69, 112, 0.1);
        padding: 2px 8px;
        border-radius: 5px;
        letter-spacing: 1px;
    }
    
    .donation-note-card {
        background: rgba(255, 255, 255, 0.95);
        border-radius: 15px;
        padding: 1.5rem;
        text-align: center;
        border: 2px solid rgba(255, 255, 255, 0.5);
        box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    }
    
    .donation-note-card i {
        font-size: 2rem;
        color: #f5576c;
        margin-bottom: 0.5rem;
    }
    
    .donation-note-card p {
        margin: 0;
        color: #333;
        font-size: 1.1rem;
        font-weight: 500;
        line-height: 1.6;
    }
    
    /* Responsive Donation Banner */
    @media (max-width: 768px) {
        .donation-title {
            font-size: 2rem;
        }
        
        .donation-subtitle {
            font-size: 1.1rem;
        }
        
        .donation-text {
            font-size: 1rem;
        }
        
        .donation-btn {
            padding: 15px 35px;
            font-size: 1rem;
        }
        
        .donation-features {
            gap: 2rem;
        }
        
        .donation-icon {
            width: 80px;
            height: 80px;
        }
        
        .donation-icon i {
            font-size: 2.5rem;
        }
    }

.services-title-row {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 12px; /* মাঝখানের স্পেস */
}

.section-title {
    font-size: 2.2rem;
    font-weight: 700;
    color: #0A416C;
    margin: 0;
    white-space: nowrap; /* লাইন ব্রেক আটকাতে */
}

.title-icon {
    width: 110px;
    height: 110px;
}

/* Mobile responsiveness */
@media (max-width: 576px) {
    .services-title-row {
        gap: 8px;
    }
    .title-icon {
        width: 35px;
        height: 35px;
    }
    .section-title {
        font-size: 1.6rem;
    }
}

</style>
{% endblock %}

{% block body_class %}home-page{% endblock %}

{% block content %}
<!-- Floating Countdown Widget -->
{% if countdown and countdown.is_countdown_active %}
<div class="floating-countdown" onclick="window.location.href='#countdown'">
    <div class="floating-countdown-text">
        <div class="floating-countdown-label">মা আসছে</div>
        <span class="floating-countdown-days" id="floating-countdown-days">{{ countdown.days_remaining }}</span>
        <div class="floating-countdown-suffix">দিন পরে</div>
    </div>
</div>
{% endif %}

<!-- Hero Section Dynamic Carousel -->
{% if slider_items %}
<div id="heroCarousel" class="carousel slide carousel-fade" data-bs-ride="carousel" data-bs-interval="4000">
    <div class="carousel-inner">
        {% for slide in slider_items %}
        <div class="carousel-item {% if forloop.first %}active{% endif %}">
            <div class="hero-slide" style="background-image: url('{{ slide.image.url }}');">
                <div class="container">
                    <div class="row align-items-center">
                        <div class="col-lg-8">
                            <div class="hero-content">
                                <h1 class="hero-title">{{ slide.title }}</h1>
                                {% if slide.subtitle %}
                                    <p class="hero-subtitle">{{ slide.subtitle }}</p>
                                {% endif %}
                                {% if slide.description %}
                                    <p class="hero-description">{{ slide.description }}</p>
                                {% endif %}
                                <div class="hero-buttons">
                                    {% if slide.button_text and slide.button_link %}
                                        <!-- <a href="{{ slide.button_link }}" class="btn btn-light btn-lg me-3" style="box-shadow: 0 4px 15px rgba(0,0,0,0.3);">
                                            <i class="fas fa-arrow-right me-2"></i>{{ slide.button_text }}
                                        </a> -->
                                    {% endif %}
                                    <!-- <a href="{% url 'durga:contact' %}" class="btn btn-success" >
                                        <i class="fas fa-envelope me-2"></i>যোগাযোগ
                                    </a> -->
                                </div>
                            </div>
                        </div>
                        <!-- <div class="col-lg-4 text-center">
                            <img src="{% static 'images/1_Om.svg.webp' %}" alt="Om Symbol" class="img-fluid hero-symbol" style="max-width: 300px; filter: drop-shadow(0 0 20px rgba(255,255,255,0.5));">
                        </div> -->
                    </div>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
    
    <!-- Carousel indicators -->
    {% if slider_items|length > 1 %}
    <div class="carousel-indicators">
        {% for slide in slider_items %}
        <button type="button" data-bs-target="#heroCarousel" data-bs-slide-to="{{ forloop.counter0 }}" {% if forloop.first %}class="active" aria-current="true"{% endif %} aria-label="Slide {{ forloop.counter }}"></button>
        {% endfor %}
    </div>
    {% endif %}
    
    <!-- Carousel controls -->
    {% if slider_items|length > 1 %}
    <button class="carousel-control-prev" type="button" data-bs-target="#heroCarousel" data-bs-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Previous</span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#heroCarousel" data-bs-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Next</span>
    </button>
    {% endif %}
</div>

{% else %}
<!-- Fallback Hero Section if no slides -->
<section class="hero-section">
    <div class="hero-slide" style="background-image: url('{% static "images/Hindu_Banner_PNG_Image_004.png" %}');">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-lg-8">
                    <div class="hero-content">
                        <h1 class="hero-title">
                            {% if site_settings %}{{ site_settings.site_title }}{% else %}দুর্গা মন্দির{% endif %}
                        </h1>
                        <p class="hero-subtitle">
                            {% if site_settings and site_settings.site_tagline %}
                                {{ site_settings.site_tagline }}
                            {% else %}
                                মা দুর্গার কৃপায় আধ্যাত্মিক শান্তি ও উন্নতির পথে
                            {% endif %}
                        </p>
                        <div class="hero-buttons">
                            <a href="{% url 'durga:events' %}" class="btn btn-light btn-lg me-3">
                                <i class="fas fa-calendar-alt me-2"></i>অনুষ্ঠান
                            </a>
                            <a href="{% url 'durga:contact' %}" class="btn btn-outline-light btn-lg">
                                <i class="fas fa-envelope me-2"></i>যোগাযোগ
                            </a>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4 text-center">
                    <img src="{% static 'images/1_Om.svg.webp' %}" alt="Om Symbol" class="img-fluid" style="max-width: 300px; filter: drop-shadow(0 0 20px rgba(255,255,255,0.5));">
                </div>
            </div>
        </div>
    </div>
</section>
{% endif %}

<!-- Features Section -->
<section class="features-section">
    <div class="container">
        <div class="services-title-row animate-on-scroll">
            <lottie-player
                src="{% static 'images/diwali-diya.json' %}" background="transparent" speed="1"class="title-icon" loop autoplay></lottie-player>
            <h2 class="section-title">আমাদের সেবাসমূহ</h2>
            <lottie-player
                src="{% static 'images/diwali-lamp.json' %}"
                background="transparent"
                speed="1"
                class="title-icon"
                loop
                autoplay></lottie-player>
        </div>
        <div class="row">
            <div class="col-lg-4 col-md-6">
                <div class="feature-card animate-on-scroll">
                    <div class="feature-icon">
                        <i class="fas fa-pray"></i>
                    </div>
                    <h4>নিয়মিত পূজা-অর্চনা</h4>
                    <p>প্রতিদিন সকাল ও সন্ধ্যায় মা দুর্গার নিয়মিত আরতি ও পূজা অনুষ্ঠান।</p>
                </div>
            </div>

            <div class="col-lg-4 col-md-6">
                <div class="feature-card animate-on-scroll">
                    <div class="feature-icon">
                        <i class="fas fa-calendar-alt"></i>
                    </div>
                    <h4>ধর্মীয় অনুষ্ঠান</h4>
                    <p>বিভিন্ন ধর্মীয় উৎসব ও অনুষ্ঠানের আয়োজন এবং সামাজিক সেবামূলক কার্যক্রম।</p>
                </div>
            </div>

            <div class="col-lg-4 col-md-6">
                <div class="feature-card animate-on-scroll">
                    <div class="feature-icon">
                        <i class="fas fa-hands-helping"></i>
                    </div>
                    <h4>সমাজসেবা</h4>
                    <p>গরীব ও অসহায়দের সাহায্য, শিক্ষা সহায়তা এবং বিভিন্ন দাতব্য কার্যক্রম।</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Puja Days Section -->
{% if puja_days %}
<section class="puja-days-section">
    <div class="container">
        <div class="services-title-row animate-on-scroll">
            <lottie-player
                src="{% static 'images/swastika.json' %}" background="transparent" speed="1"class="title-icon" loop autoplay></lottie-player>
            <h2 class="section-title">দুর্গা পুজার দিনসমূহ</h2>
            <lottie-player
                src="{% static 'images/incenses.json' %}"
                background="transparent"
                speed="1"
                class="title-icon"
                loop
                autoplay></lottie-player>
        </div>
        <div class="row">
            {% for puja_day in puja_days %}
            <div class="col-lg-4 col-md-6">
                <div class="puja-day-card animate-on-scroll">
                    <div class="puja-day-image">
                        {% if puja_day.image %}
                            <img src="{{ puja_day.image.url }}" alt="{{ puja_day.title }}">
                        {% else %}
                            <div class="d-flex align-items-center justify-content-center bg-gradient" style="height: 200px; background: linear-gradient(135deg, #044570, #044570);">
                                <i class="fas fa-om fa-4x text-white" style="opacity: 0.7;"></i>
                            </div>
                        {% endif %}
                    </div>
                    <div class="puja-day-content">
                        <h5 class="puja-day-title">{{ puja_day.title }}</h5>
                        <div class="puja-day-date">{{ puja_day.get_formatted_date_with_day }}</div>
                        {% if puja_day.description %}
                            <p class="puja-day-description">{{ puja_day.description|truncatewords:15 }}</p>
                        {% endif %}
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</section>
{% endif %}

<!-- Donation Banner -->
<section class="donation-banner">
    <div class="container">
        <div class="donation-content">
            <div class="donation-icon">
                <i class="fas fa-hands-helping"></i>
            </div>
            <h2 class="donation-title">আপনার দানে আমাদের সহায়তা করুন</h2>
            <p class="donation-subtitle">মন্দির পরিচালনা ও সেবামূলক কার্যক্রমে আপনার অবদান রাখুন</p>
            <p class="donation-text">
                আপনার দানের মাধ্যমে আমরা মন্দিরের নিয়মিত পূজা-অর্চনা, ধর্মীয় অনুষ্ঠান এবং সমাজসেবামূলক কাজ চালিয়ে যেতে পারি। প্রতিটি দান আমাদের কাছে অত্যন্ত মূল্যবান।
            </p>
            
            {% if donation_info %}
            <!-- Donation Payment Methods -->
            <div class="donation-methods mt-4 mb-4">
                <div class="row g-3">
                    {% if donation_info.bank_account_number %}
                    <div class="col-md-6">
                        <div class="payment-card">
                            <div class="payment-header">
                                <i class="fas fa-university"></i>
                                <h5>ব্যাংক একাউন্ট</h5>
                            </div>
                            <div class="payment-details">
                                {% if donation_info.bank_name %}<p><strong>ব্যাংকের নাম:</strong> {{ donation_info.bank_name }}</p>{% endif %}
                                {% if donation_info.bank_account_name %}<p><strong>একাউন্ট নাম:</strong> {{ donation_info.bank_account_name }}</p>{% endif %}
                                <p><strong>একাউন্ট নাম্বার:</strong> <span class="highlight-number">{{ donation_info.bank_account_number }}</span></p>
                                {% if donation_info.bank_branch %}<p><strong>শাখা:</strong> {{ donation_info.bank_branch }}</p>{% endif %}
                                {% if donation_info.bank_routing_number %}<p><strong>রাউটিং:</strong> {{ donation_info.bank_routing_number }}</p>{% endif %}
                            </div>
                        </div>
                    </div>
                    {% endif %}
                    
                    {% if donation_info.bkash_number or donation_info.nagad_number or donation_info.rocket_number %}
                    <div class="col-md-6">
                        <div class="payment-card">
                            <div class="payment-header">
                                <i class="fas fa-mobile-alt"></i>
                                <h5>মোবাইল ব্যাংকিং</h5>
                            </div>
                            <div class="payment-details">
                                {% if donation_info.bkash_number %}
                                <p><strong><img src="{% static 'images/bKash-Logo.svg' %}" width="70" alt="bKash"></strong> <span class="highlight-number">{{ donation_info.bkash_number }}</span></p>
                                {% endif %}
                                {% if donation_info.nagad_number %}
                                <p><strong><img src="{% static 'images/Nagad-Logo.svg' %}" width="70" alt="Nagad"></strong> <span class="highlight-number">{{ donation_info.nagad_number }}</span></p>
                                {% endif %}
                                {% if donation_info.rocket_number %}
                                <p><strong><img src="{% static 'images/rocket_logo.png' %}" width="70" alt="Rocket"></strong> <span class="highlight-number">{{ donation_info.rocket_number }}</span></p>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                    {% endif %}
                    
                    {% if donation_info.other_payment_info %}
                    <div class="col-12">
                        <div class="payment-card">
                            <div class="payment-header">
                                <i class="fas fa-info-circle"></i>
                                <h5>অন্যান্য তথ্য</h5>
                            </div>
                            <div class="payment-details">
                                <p style="white-space: pre-line;">{{ donation_info.other_payment_info }}</p>
                            </div>
                        </div>
                    </div>
                    {% endif %}
                    
                    {% if donation_info.donation_note %}
                    <div class="col-12">
                        <div class="donation-note-card">
                            <i class="fas fa-heart"></i>
                            <p>{{ donation_info.donation_note }}</p>
                        </div>
                    </div>
                    {% endif %}
                </div>
            </div>
            {% endif %}
            
            <a href="{% url 'durga:contact' %}" class="donation-btn">
                <i class="fas fa-hand-holding-heart"></i>যোগাযোগ করুন
            </a>
        </div>
    </div>
</section>

<!-- প্রসাদ হল ও ভক্ত নিবাস Section -->
{% if site_settings.prasad_hall_image %}
<section class="prasad-hall-section py-5">
    <div class="container">
        <h2 class="section-title text-center mb-5 animate-on-scroll">
            <i class="fas fa-landmark me-3"></i>প্রস্তাবিত প্রসাদ হল ও ভক্ত নিবাস
        </h2>
        <div class="row justify-content-center">
            <div class="col-lg-10">
                <div class="prasad-hall-card animate-on-scroll">
                    <img src="{{ site_settings.prasad_hall_image.url }}" 
                         alt="প্রস্তাবিত প্রসাদ হল ও ভক্ত নিবাস" 
                         class="img-fluid w-100"
                         style="border-radius: 20px; box-shadow: 0 15px 50px rgba(0,0,0,0.3); border: 8px solid #fff;">
                </div>
            </div>
        </div>
    </div>
</section>

<style>
    .prasad-hall-section {
        background: linear-gradient(135deg, rgba(255, 248, 220, 0.3), rgba(255, 235, 205, 0.3));
    }
    
    .prasad-hall-card {
        transition: transform 0.3s ease, box-shadow 0.3s ease;
    }
    
    .prasad-hall-card:hover {
        transform: translateY(-10px);
    }
    
    .prasad-hall-card:hover img {
        box-shadow: 0 20px 60px rgba(0,0,0,0.4) !important;
    }
</style>
{% endif %}

<!-- About Section -->
<section class="about-section">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-lg-8">
                <div class="about-card animate-on-scroll">
                    <h2 class="section-title text-start">আমাদের সম্পর্কে</h2>
                    <p class="lead">
                        যিনি জ্ঞানাঞ্জনশলাকায় অজ্ঞান-তিমিরাচ্ছন্ন অন্ধজনের চক্ষুরুন্মীলিত করিয়া দেন, সেই শ্রীগুরুর শ্রীপাদপদ্মে সাষ্টাঙ্গে প্রণিপাত করিতেছি।
                    </p>
                    <p>
                        আপনাদের সকলকে স্বাগতম। এই ধাম/আশ্রমটি হইল এমন একটি আধ্যাত্মিক কেন্দ্র যেখানে যে কোনো ধর্মবিশ্বাসী বা একেবারেই বিশ্বাস নাই এমন মানুষও প্রতিফলিত হইতে, প্রশ্ন করিতে, আলোচনা শুনিতে, প্রার্থনা করিতে, হরিনাম করিতে / শুনিতে, ধ্যান, জ্ঞান এবং নিজেকে পরের সেবায় উৎসর্গ করিতে আসেন।
                    </p>
                    <div class="mt-4">
                        <a href="{% url 'durga:committee' %}" class="btn btn-info me-3">
                            <i class="fas fa-users me-2"></i>কমিটি
                        </a>
                        <a href="{% url 'durga:durga_sangha' %}" class="btn btn-outline-info">
                            <i class="fas fa-hands-helping me-2"></i>দুর্গা সংঘ
                        </a>
                    </div>
                </div>
            </div>
            <div class="col-lg-4 text-center">
                <img src="{% static 'images/durga_puja_3.png' %}" alt="Durga Puja" class="img-fluid animate-on-scroll" style="max-width: 350px; filter: drop-shadow(0 10px 20px rgba(0,0,0,0.2));">
            </div>
        </div>
    </div>
</section>



<script>
// Animate on scroll
function animateOnScroll() {
    const elements = document.querySelectorAll('.animate-on-scroll');
    
    elements.forEach(element => {
        const elementTop = element.getBoundingClientRect().top;
        const windowHeight = window.innerHeight;
        
        if (elementTop < windowHeight - 100) {
            element.classList.add('animated');
        }
    });
}

// Counter animation
function animateCounters() {
    const counters = document.querySelectorAll('.stat-number[data-count]');
    
    counters.forEach(counter => {
        const target = parseInt(counter.getAttribute('data-count'));
        let current = 0;
        const increment = target / 100;
        
        const timer = setInterval(() => {
            current += increment;
            if (current >= target) {
                current = target;
                clearInterval(timer);
            }
            counter.textContent = Math.floor(current);
        }, 20);
    });
}

// Initialize animations
document.addEventListener('DOMContentLoaded', function() {
    animateOnScroll();
    
    // Trigger counter animation when stats section is visible
    const statsSection = document.querySelector('.stats-section');
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                animateCounters();
                observer.unobserve(entry.target);
            }
        });
    });
    
    if (statsSection) {
        observer.observe(statsSection);
    }
});

window.addEventListener('scroll', animateOnScroll);

// Gallery Carousel initialization
document.addEventListener('DOMContentLoaded', function() {
    // Initialize gallery carousel if exists
    // Initialize Gallery 4-Column Carousel
    const galleryCarousel = document.querySelector('#galleryCarousel');
    if (galleryCarousel) {
        const carousel = new bootstrap.Carousel(galleryCarousel, {
            interval: 5000,  // Slower for better viewing
            ride: 'carousel',
            pause: 'hover',
            wrap: true,
            touch: true
        });
        
        // Enhanced slide events
        galleryCarousel.addEventListener('slide.bs.carousel', function (e) {
            console.log('Gallery sliding to:', e.to);
            // Add slide animation effects
            const activeSlide = galleryCarousel.querySelector('.carousel-item.active');
            if (activeSlide) {
                activeSlide.style.transition = 'all 0.6s ease-in-out';
            }
        });
        
        galleryCarousel.addEventListener('slid.bs.carousel', function (e) {
            console.log('Gallery slide completed:', e.to);
        });
        
        // Pause on hover with visual feedback
        galleryCarousel.addEventListener('mouseenter', function() {
            carousel.pause();
            galleryCarousel.style.opacity = '0.95';
        });
        
        galleryCarousel.addEventListener('mouseleave', function() {
            carousel.cycle();
            galleryCarousel.style.opacity = '1';
        });
        
        // Auto-start carousel
        carousel.cycle();
        
        console.log('Gallery 4-column carousel initialized successfully');
    } else {
        console.error('Gallery carousel element not found');
    }
    
    // Debug gallery links
    const galleryLinks = document.querySelectorAll('.gallery-link');
    console.log('Found gallery links:', galleryLinks.length);
    
    galleryLinks.forEach((link, index) => {
        console.log(`Gallery link ${index}:`, link.href);
        
        link.addEventListener('click', function(e) {
            console.log('Gallery link clicked:', this.href);
            // Allow normal navigation
            return true;
        });
    });
});

// Convert English numbers to Bengali
function convertToBengaliNumber(num) {
    const bengaliDigits = ['০', '১', '২', '৩', '৪', '৫', '৬', '৭', '৮', '৯'];
    return String(num).split('').map(digit => bengaliDigits[parseInt(digit)] || digit).join('');
}

// Convert floating countdown number to Bengali
document.addEventListener('DOMContentLoaded', function() {
    const floatingCountdownDays = document.getElementById('floating-countdown-days');
    if (floatingCountdownDays) {
        const englishNumber = floatingCountdownDays.textContent.trim();
        floatingCountdownDays.textContent = convertToBengaliNumber(englishNumber);
    }
});
</script>
{% endblock %}